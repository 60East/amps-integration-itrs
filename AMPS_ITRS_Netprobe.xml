<?xml version="1.0" encoding="ISO-8859-1"?>
<!--Edited using Gateway Setup Editor version GA3.8.0-160824 at 2016-10-25 14:11:18 by slapp on NYSUPSVR25-->
<!-- Gateway-created setup include file for user ActiveConsole1 at 38.88.237.66 -->
<gateway compatibility="1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://schema.itrsgroup.com/GA3.4.0-151222/gateway.xsd">
	<types>
		<type name="AMPS">
			<sampler disabled="false" ref="AmpsWebPage"/>
			<sampler ref="AmpsDataviews"/>
		</type>
	</types>
	<samplers>
		<sampler name="AmpsWebPage">
			<var-group>
				<data>Admin</data>
			</var-group>
			<description/>
			<plugin>
				<web-mon>
					<host>
						<var ref="ampsHost"/>
					</host>
					<port>
						<var ref="ampsPort"/>
					</port>
					<protocol>
						<http/>
					</protocol>
					<scenarioList>
						<scenario>
							<name>ampsStatusPage</name>
							<connection/>
							<stages>
								<stage>
									<name>ampsStatusPage</name>
									<url>
										<data>/amps.xml</data>
									</url>
									<successCriteria/>
									<dataTransfer>
										<name>
											<data>amps_</data>
											<var ref="managedEntityName"/>
										</name>
									</dataTransfer>
								</stage>
							</stages>
						</scenario>
					</scenarioList>
				</web-mon>
			</plugin>
		</sampler>
		<sampler name="AmpsDataviews">
			<var-group>
				<data>AMPS</data>
			</var-group>
			<description/>
			<sampleInterval>
				<data>24</data>
			</sampleInterval>
			<plugin>
				<extractor>
					<source>
						<samplerDataTransfer>
							<name>
								<data>amps_</data>
								<var ref="managedEntityName"/>
							</name>
						</samplerDataTransfer>
					</source>
					<views>
						<view>
							<name>
								<data>About</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance</xpath>
													<headlines>
														<headline>
															<name/>
															<value/>
														</headline>
													</headlines>
													<columns>
														<column>
															<name>
																<static>
																	<data>Name</data>
																</static>
															</name>
														</column>
														<column>
															<name>
																<static>
																	<data>Value</data>
																</static>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>version</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath/>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>uptime</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>user_id</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>config_path</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>cwd</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>pid</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>tuning/NUMA/enabled</xpath>
															<name>
																<static>
																	<data>NUMA</data>
																</static>
															</name>
															<cells>
																<xpath/>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Memory</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/memory/caches/caches/</xpath>
													<columns>
														<xpath>cache[1]</xpath>
														<column>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>cache</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Processors</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/processors/</xpath>
													<columns>
														<xpath>processor[1]</xpath>
														<column>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<row>
															<xpath>processor</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Statistics</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance</xpath>
													<columns>
														<column>
															<name>
																<static>
																	<data>Name</data>
																</static>
															</name>
														</column>
														<column>
															<name>
																<static>
																	<data>Value</data>
																</static>
															</name>
														</column>
													</columns>
													<rows>
														<row>
															<xpath>queries/child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
														<row>
															<xpath>statistics/child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Logging</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/logging/file</xpath>
													<headlines>
														<xpath/>
														<headline>
															<name/>
															<value/>
														</headline>
													</headlines>
													<columns>
														<xpath>file[1]</xpath>
														<column>
															<xpath/>
															<name>
																<static>
																	<data>Name</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>file</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Clients</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/clients/</xpath>
													<columns>
														<xpath>client[1]</xpath>
														<column>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<row>
															<xpath>client</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Replication</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/replication/</xpath>
													<columns>
														<xpath>destination[1]</xpath>
														<column>
															<xpath/>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>destination</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Transports</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/transports/</xpath>
													<columns>
														<xpath>transport[1]</xpath>
														<column>
															<xpath/>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>transport</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>StateOfWorld</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/sow/</xpath>
													<columns>
														<xpath>topic[@id][1]</xpath>
														<column>
															<xpath/>
															<name>
																<static>
																	<data>id</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<xpath/>
														<row>
															<xpath>topic[@id]</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
						<view>
							<name>
								<data>Views</data>
							</name>
							<template>
								<custom>
									<format>
										<xml>
											<method>
												<xpath>
													<xpath>/amps/instance/views/</xpath>
													<columns>
														<xpath>view[1]</xpath>
														<column>
															<xpath/>
															<name>
																<!--Insert comment here-->
																<static>
																	<data>Name</data>
																</static>
															</name>
														</column>
														<column>
															<xpath>child::*</xpath>
															<name>
																<xpath>
																	<xpath>name()</xpath>
																</xpath>
															</name>
														</column>
													</columns>
													<rows>
														<row>
															<xpath>view</xpath>
															<name>
																<xpath>
																	<xpath>@id</xpath>
																</xpath>
															</name>
															<cells>
																<cell>
																	<xpath>child::*</xpath>
																	<value>
																		<xpath>
																			<xpath>text()</xpath>
																		</xpath>
																	</value>
																</cell>
															</cells>
														</row>
													</rows>
												</xpath>
											</method>
										</xml>
									</format>
								</custom>
							</template>
						</view>
					</views>
				</extractor>
			</plugin>
			<dataviews>
				<dataview name="Memory">
					<firstColumn>
						<create>
							<columnName>description</columnName>
							<combineColumns>
								<column>description</column>
							</combineColumns>
						</create>
					</firstColumn>
				</dataview>
				<dataview name="Processors">
					<firstColumn>
						<create>
							<columnName>description</columnName>
							<combineColumns>
								<column>description</column>
							</combineColumns>
						</create>
					</firstColumn>
				</dataview>
				<dataview name="Statistics"/>
				<dataview name="Logging"/>
				<dataview name="HostMemory"/>
			</dataviews>
			<debug>
				<setting>showmenu</setting>
			</debug>
		</sampler>
	</samplers>
	<samplerIncludes>
		<samplerIncludeGroup name="60East">
			<samplerIncludeGroup name="amps">
				<samplerIncludeGroup name="processes">
					<samplerInclude name="amps">
						<sampler ref="Processes"/>
						<plugin>
							<processes>
								<processes>
									<process>
										<data>
											<alias>
												<data>amps</data>
											</alias>
										</data>
									</process>
								</processes>
							</processes>
						</plugin>
					</samplerInclude>
				</samplerIncludeGroup>
			</samplerIncludeGroup>
		</samplerIncludeGroup>
	</samplerIncludes>
	<actions/>
	<rules>
		<ruleGroup name="60East">
			<ruleGroup name="amps">
				<ruleGroup name="Statistics">
					<rule name="last_active">
						<targets>
							<target>/geneos/gateway/directory/probe/managedEntity/sampler[(@name=&quot;AmpsDataviews&quot;)][(@type=&quot;AMPS&quot;)]/dataview[(@name=&quot;Processors&quot;)]/rows/row/cell[(@column=&quot;last_active&quot;)]</target>
						</targets>
						<priority>1</priority>
						<block>
							<if>
								<gt>
									<dataItem>
										<property>@value</property>
									</dataItem>
									<integer>20000</integer>
								</gt>
								<transaction>
									<update>
										<property>state/@severity</property>
										<severity>critical</severity>
									</update>
								</transaction>
								<if>
									<gt>
										<dataItem>
											<property>@value</property>
										</dataItem>
										<integer>2000</integer>
									</gt>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>warning</severity>
										</update>
									</transaction>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>ok</severity>
										</update>
									</transaction>
								</if>
							</if>
						</block>
					</rule>
					<rule name="queue_max_latency">
						<targets>
							<target>/geneos/gateway/directory/probe/managedEntity/sampler[(@name=&quot;AmpsDataviews&quot;)][(@type=&quot;AMPS&quot;)]/dataview[(@name=&quot;Clients&quot;)]/rows/row/cell[(@column=&quot;queue_max_latency&quot;)]</target>
						</targets>
						<priority>1</priority>
						<block>
							<if>
								<gt>
									<dataItem>
										<property>@value</property>
									</dataItem>
									<integer>10</integer>
								</gt>
								<transaction>
									<update>
										<property>state/@severity</property>
										<severity>critical</severity>
									</update>
								</transaction>
								<if>
									<gt>
										<dataItem>
											<property>@value</property>
										</dataItem>
										<integer>5</integer>
									</gt>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>warning</severity>
										</update>
									</transaction>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>ok</severity>
										</update>
									</transaction>
								</if>
							</if>
						</block>
					</rule>
					<rule name="seconds_behind">
						<targets>
							<target>/geneos/gateway/directory/probe/managedEntity/sampler[(@name=&quot;AmpsDataviews&quot;)][(@type=&quot;AMPS&quot;)]/dataview[(@name=&quot;Replication&quot;)]/rows/row/cell[(@column=&quot;seconds_behind&quot;)]</target>
						</targets>
						<priority>1</priority>
						<block>
							<if>
								<gt>
									<dataItem>
										<property>@value</property>
									</dataItem>
									<integer>30</integer>
								</gt>
								<transaction>
									<update>
										<property>state/@severity</property>
										<severity>critical</severity>
									</update>
								</transaction>
								<if>
									<gt>
										<dataItem>
											<property>@value</property>
										</dataItem>
										<integer>15</integer>
									</gt>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>warning</severity>
										</update>
									</transaction>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>ok</severity>
										</update>
									</transaction>
								</if>
							</if>
						</block>
					</rule>
					<rule name="file_system_free_percent">
						<targets>
							<target>/geneos/gateway/directory/probe/managedEntity/sampler[(@name=&quot;AmpsDataviews&quot;)][(@type=&quot;AMPS&quot;)]/dataview[(@name=&quot;Logging&quot;)]/rows/row/cell[(@column=&quot;file_system_free_percent&quot;)]</target>
						</targets>
						<priority>1</priority>
						<block>
							<if>
								<lt>
									<dataItem>
										<property>@value</property>
									</dataItem>
									<integer>10</integer>
								</lt>
								<transaction>
									<update>
										<property>state/@severity</property>
										<severity>critical</severity>
									</update>
								</transaction>
								<if>
									<lt>
										<dataItem>
											<property>@value</property>
										</dataItem>
										<integer>30</integer>
									</lt>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>warning</severity>
										</update>
									</transaction>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>ok</severity>
										</update>
									</transaction>
								</if>
							</if>
						</block>
					</rule>
					<rule name="view_queue_depth">
						<targets>
							<target>/geneos/gateway/directory/probe/managedEntity/sampler[(@name=&quot;AmpsDataviews&quot;)][(@type=&quot;AMPS&quot;)]/dataview[(@name=&quot;Views&quot;)]/rows/row/cell[(@column=&quot;queue_depth&quot;)]</target>
						</targets>
						<priority>1</priority>
						<block>
							<if>
								<gt>
									<dataItem>
										<property>@value</property>
									</dataItem>
									<integer>20000</integer>
								</gt>
								<transaction>
									<update>
										<property>state/@severity</property>
										<severity>critical</severity>
									</update>
								</transaction>
								<if>
									<gt>
										<dataItem>
											<property>@value</property>
										</dataItem>
										<integer>10000</integer>
									</gt>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>warning</severity>
										</update>
									</transaction>
									<transaction>
										<update>
											<property>state/@severity</property>
											<severity>ok</severity>
										</update>
									</transaction>
								</if>
							</if>
						</block>
					</rule>
				</ruleGroup>
			</ruleGroup>
		</ruleGroup>
	</rules>
</gateway>
